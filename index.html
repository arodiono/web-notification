<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
hello world

<script src="sw.js"></script>
<script>
    navigator.serviceWorker.register('sw.js')
    
  Notification.requestPermission(function (status) {
    console.log('Notification permission status:', status)
    if (status === 'granted') {
      displayNotification()
    }
  })

  function displayNotification () {
    if (Notification.permission === 'granted') {
      navigator.serviceWorker.getRegistration().then(function (reg) {
          console.log(reg)
        var options = {
          body: 'Here is a notification body!',
          // icon: 'images/example.png',
          vibrate: [100, 50, 100],
          data: {
            dateOfArrival: Date.now() + 1000,
            primaryKey: 1
          }
        }
        
        for (let i = 0; i < 10; i++) {
          reg.showNotification(`hello ${i}`)
        }

      })
    }
  }
</script>
</body>
</html>
